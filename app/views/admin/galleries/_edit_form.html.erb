<%= form_for([:admin,@gallery]) do |f| %>
  <% if @gallery.errors.any? %>
    <div id="error_explanation">
      <h4><%= t 'common.error_save', count: @gallery.errors.count, model: Gallery.model_name.human %></h4>

      <ul>
      <% @gallery.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  <div id="gallery-container">
    <div id="gallery_title" class="field">
      <%= f.label :title %>
      <%= f.text_field :title %>
    </div>
    <div id="gallery_description" class="field">
      <%= f.label :description %>
      <%= f.text_area :description, rows: 6 %>
    </div>
    <div id="gallery_date" class="field">
      <%= f.label :date %>
      <%= f.date_select :date, {}, {class: "small-4 columns"} %>
    </div>
    <div id="gallery-add-image" class="field">
      <button class="attachment-btn" id="insert-attachment" data-reveal-id="attachment-modal"><%= t('galleries.add_image') %></button>
    </div>
    <div id="selected-images-container" class="field">
      <%= render 'selected_images' %>
    </div>
    <div class="small-12 actions" class="field">
      <%= f.submit class: "button right" %>
    </div>
  </div>
<% end %>

<%= render 'admin/attachments/image_modal' %>

<div id="joyride-content">
  <ol class="joyride-list" data-joyride>
    <li data-id="gallery_title" data-text="Next" data-options="tip_location: top; prev_button: false">
      <p>Enter the name you want for the gallery.</p>
    </li>  
    <li data-id="gallery_description" data-text="Next" data-options="tip_location: top">
      <p>Describe the gallery.</p>
    </li>
    <li data-id="gallery_date" data-text="Next" data-options="tip_location: top;">
      <p>Choose the date associated with this gallery.</p>
    </li>
    <li data-id="add-image" data-text="Ok" data-options="tip_location: top;">
      <p>Add images from attachments to this gallery.</p>
    </li>
    <li data-button="End" data-options="tip_location: top;">
      <p>After images are added, you can reorder them by dragging and drop.</p>
    </li>
  </ol>
</div>